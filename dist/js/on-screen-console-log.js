/**@license Copyright (c) 2015 Cesar Candela
* www.cssguy4hire.com 
*/
var debug=!0,debugOnScreen=!0,screenLog="",logParent="body";$(document).ready(function(){function t(t,n){if(1===n)var i=d[t][1],o=Math.floor(Math.random()*(d[t][0]-g/2))+g/2;else var i=Math.floor(Math.random()*(d[t][0]-g/2))+g/2,o=d[t][1];return[i,o]}function n(){l=$(f).outerWidth()-g/2,p=$(f).outerHeight()-g/2,d=[[l,g/2],[p,l],[l,p],[p,g/2]]}function i(){var n=g,i=n/2,o="#"+Math.floor(16777215*Math.random()).toString(16);$(f).append(dummyOrigin=$('<div class="dummyOrigin" />')),$(dummyOrigin).css({left:t(m,h)[0]+"px",top:t(m,h)[1]+"px",width:g+"px",height:g+"px"});var a=$('<div class="'+c+'" />'),s=$(dummyOrigin).position().left,r=$(dummyOrigin).position().top;$(f).append(a),$(a).data({initX:l/2,initY:p/2,destX:s,destY:r,size:n}).attr("id","dot").css({"margin-left":-i+"px","margin-top":-i+"px","padding-bottom":n+"px",left:$(a).data("initX")+"px",top:$(a).data("initY")+"px",width:n+"px","background-color":o,opacity:1});var d=setTimeout(function(){e(a),clearTimeout(d)},50)}function o(t,n){return t>n?relPos=-(t-n):n>t?relPos=n-t:relPos=0,relPos}function e(t){r("ANIMATING DOT\ndot ID = "+$(t).attr("id")+"\nleft = "+$(t).position().left+"\ntop = "+$(t).position().top+"\ninitX = "+$(t).data("initX")+"\ninitY = "+$(t).data("initY")+"\ndestX = "+$(t).data("destX")+"\ndestY = "+$(t).data("destY")+"\nsize = "+$(t).data("size")+"\nouterWidth = "+$(t).outerWidth()+"\nouterHeight = "+$(t).outerHeight()+"\ntransform = "+$(t).css("transform"));var n=$(t).data("initX"),i=$(t).data("initY"),e=$(t).data("destX"),s=$(t).data("destY"),d=o(n,e),l=o(i,s),p=Math.sqrt(d*d+l*l),g=p/u+"ms";a(t,g),r("DESTINATION\ninitX = "+n+"\ndestX = "+e+"\nnextX = "+d+"\nnextY = "+l),$(t).css({transform:"translateX("+d+"px) translateY("+l+"px)"})}function a(n,i){$(n).css({"transition-duration":i}).one({"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd":function(n){m=m<d.length-1?m+1:0,h=1>h?h+1:0,$(dummyOrigin).css({left:t(m,h)[0]+"px",top:t(m,h)[1]+"px"}),$(this).css({left:$(this).position().left+"px",top:$(this).position().top+"px","transition-duration":"0ms",transform:"translateX(0px) translateY(0px)"}).data({initX:$(this).position().left,initY:$(this).position().top,destX:$(dummyOrigin).position().left,destY:$(dummyOrigin).position().top}),e($(this)),r("DOT FINISHED ANINMATING")}})}if(debug)if(debugOnScreen){var s=(console.log,350);r=function(){0===$("#logHolder").length&&($(logParent).append(logHolder=$('<div id="logHolder" class="hidden">)')),$(logHolder).append(tab=$('<div class="tab" />)'),logContent=$('<div class="content" />)')),$(tab).on({click:function(t){$(this).hasClass("off")||($(this).addClass("off"),$(logHolder).css({"transition-duration":s+"ms"}).on({"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd":function(t){$(tab).removeClass("off")}}).toggleClass("hidden"))}}));var t=$(logParent).outerHeight();$(logContent).height(t);for(var n=0;n<arguments.length;n++)screenLog+=arguments[n]+"\n--\n";$(logContent).text(screenLog);var i=$(logContent).prop("scrollHeight");i>t&&$(logContent).scrollTop(i-t),i>3*t&&(screenLog="")}}else var r=void 0;else r=function(){};r();var d,l,p,g=40,u=.45,c="dot",f=$("#drawArea"),m=1,h=1,x=!1,v=$("#createDotsBtt"),T=$(v).attr("data-text");addText=$("span",v).text(),$(v).on({click:function(t){return t.preventDefault(),x===!1?(amount=1,x=!0,n(),i(),void $("span",this).text(T)):x!==!1?($("span",this).text(addText),$(dummyOrigin).add(dot).remove(),x=!1,void r("DOT REMOVED")):void 0}});var O=50;$(window).on({resize:$.throttle(O,function(t){n()})})});